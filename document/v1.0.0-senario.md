좋습니다. “클랜원 전력 분석”은 라이엇 공식 API로 경기·챔피언·역할 데이터를 끌어와서 지표화 → 구성·밴픽 추천까지 자동화하면 됩니다. 아래 설계를 기준으로 바로 만들 수 있도록 핵심 지표, 아키텍처, DB 스키마, 분석 로직, 샘플 코드까지 정리해 드리겠습니다.

# 1) 목표/출력물

* 개인 전력 카드: 주 포지션·주 챔피언, 최근 20판 성향(공격/운영/시야), 피크타임, 밴 추천.
* 조합 시너지 점수: 듀오/트리오/5인 조합별 “라인 상성 + 챔피언 시너지 + 최근 폼” 가중 합산.
* 매치 프리뷰: 상대 라인전 지표(예: CS@10, GD@15, 솔로킬/데스), 승부처(객체/시야) 예측.
* 주간 리포트: MMR 추정 추세, 포지션 밸런스, 챔피언 풀 다양도, 티어 분포.

# 2) 핵심 지표 세트 (간결·설명 가능 지표 위주)

* 레인전: CS@10, GD@15, XPD@15, 솔로킬율, 첫 데스율.
* 전투: KDA, DPM(분당딜), KP(킬관여), DTPM(분당피해량), 생존률, 첫 한타 관여 시간.
* 운영: VSPM(분당시야점수), WPM(분당와드), WCPM(와드제거), 오브젝트 관여(드래곤·전령·바론).
* 안정성/폼: 표준편차 기반 일관성, 최근 5/10/20판 가중 Elo(최근 가중치↑).
* 챔피언 풀: 다양도(Herfindahl), 시그니처 챔피언 WR, 카운터 상성(상대 라인 픽 대비).
* 듀오/팀 시너지: 함께 뛴 경기 WR, 역할보완(메이지/AD/탱/이니시에이터 지수), 라인 커버리지.

# 3) 라이엇 API(주요 엔드포인트)

* Summoner-v4: 소환사 PUUID 획득.
* League-v4: 랭크/티어.
* Match-v5: 매치 ID 리스트, 상세 타임라인(라인전 지표 추출 핵심).
* Champion-Mastery-v4: 주 챔피언 파악.
* Spectator-v4(선택): 실시간 관전 데이터로 ‘프리뷰’ 가속.

레이트리밋이 있으니 PUUID 기준으로 백필(최근 → 과거)과 재시도 큐를 설계하십시오.

# 4) 분석 로직(간단 수식 예시)

* 최근 폼 점수 `Form = 0.6*Elo_5 + 0.3*Elo_10 + 0.1*Elo_20`
* 레인전 점수 `Lane = z(CS@10)+z(GD@15)+0.5*z(XPD@15)+0.5*z(SoloKill%)`
* 운영 점수 `Macro = z(VSPM)+0.5*z(WPM)+0.5*z(WCPM)+z(ObjPart)`
* 전투 점수 `Fight = z(DPM)+z(KP)+0.5*z(Survival)`
* 종합 `Power = 0.35*Lane + 0.35*Fight + 0.2*Macro + 0.1*Form`
* 듀오 시너지 `Synergy = w1*공동경기WR + w2*역할보완지수 + w3*라인전상성 + w4*챔피언시너지`

  * 역할보완지수: 탱/이니시/딜/AP 비중이 팀 템플릿(예: 탑탱·정이니시·미드AP·원딜AD·서폿서포트)에 가까울수록 ↑
* 챔피언 밴 추천: 상대팀 라인 주력 챔프 Top-N × 우리 라인 카운터 취약도 매칭 → 점수 상위.

# 5) 화면 구성(간단 와이어)

* 대시보드: 티어 분포, 역할 밸런스, 최근 폼 상위 5, 듀오 시너지 상위 5.
* 플레이어 카드: 주포지션/서브, 시그니처 챔프, 최근 폼 그래프, 강·약점 레이더.
* 팀빌더: 사용자 여러 명 체크 → 자동 라인배치/픽권 순서 → 추천 챔프/밴 리스트.
* 매치 프리뷰: 예상 라인전 난이도, 첫 한타 시간대, 오브젝트 집중 구간.

# 6) 개인정보/정책

* 라이엇 API 약관 준수(상업적 이용/표시 요건/비식별화 주의).
* 닉네임 공개 범위 설정(클랜 내부만 보기), 삭제 요청 처리(soft delete).
